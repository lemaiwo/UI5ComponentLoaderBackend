sap.ui.define(["sap/ui/base/Object","sap/ui/model/json/JSONModel","sap/ui/core/ValueState","sap/base/Log"],function(e,t,a,r){"use strict";return e.extend("be.wl.zcomploaderlib.objects.BaseState",{constructor:function(e){this.logger=r.getLogger("be.wl.zco+
mploaderlib.objects.BaseState",r.Level.INFO);this.getModel().attachPropertyChange(function(e){var t=this.getChangeFunction(e.getParameter("path"));this.callChangeFunction(t.function,t.caller,[this,e]);if(e.getParameter("context")){t=this.getChangeFunctio+
n(e.getParameter("context").getPath()+"/"+e.getParameter("path"));this.callChangeFunction(t.function,e.getParameter("context").getObject(),e);var a=e.getParameter("context").getPath();var r=a.split("/")[a.split("/").length-1];if(!isNaN(parseInt(r))){a=a.+
split("/").slice(0,a.split("/").length-1).join("/")}var i=a.split("/").slice(0,a.split("/").length-1).join("/");var s=i&&e.getParameter("context").getModel().getProperty(i);t=this.getChangeFunction(a);this.callChangeFunction(t.function,s||e.getParameter(+
"context").getObject(),e)}},this)},getProperty:function(e){return this.data[e]},setProperty:function(e,t){this.data[e]=t},getChangeFunction:function(e){e=e.substr(0,1)==="/"?e.substr(1):e;return e.split("/").reduce(function(e,t,a,r){if(a===r.length-1){re+
turn{function:e[t+"Changed"],caller:e}}return t&&t.length>0&&e?e[t]:e},this.data)},callChangeFunction:function(e,t,a){e&&e.apply(t,a)},getModel:function(){if(!this.model){this.model=new t(this.data,true)}return this.model},updateModel:function(e){if(this+
.model){this.model.refresh(e?true:false)}},camelize:function(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,function(e,t){return t==0?e.toLowerCase():e.toUpperCase()}).replace(/\s+/g,"")},objectMatchEntity:function(e){return t=>{if(t&&t["getEntityName"]&&t["g+
etKeys"]){var a=this.getService().model.createKey(t.getEntityName(),t.getKeys());this.logger.info("Trying to match local path: "+a+" - with error path:"+e);return a===e}return false}},findMatchingObject:function(e,t,a){var r=t[a];var i={path:"/"+a,object+
:undefined};if(Array.isArray(r)){var s=r.findIndex(this.objectMatchEntity(e));i.object=s>-1?r[s]:undefined;i.path+="/"+s}else if(this.objectMatchEntity(e)(r)){i.object=r}if(i.object)return i;return false},findMatchingObjectInData:function(e){for(var t in+
 this.data){var a=this.findMatchingObject(e,this.data,t);if(a)return a}return false},resetMessageMapperValueStates:function(){if(this.messageMapperPaths){this.messageMapperPaths.forEach(e=>{this.getModel().setProperty(e+"ValueState",a.None);this.getModel+
().setProperty(e+"ValueStateText","")})}},messageMapper:function(e){var t=e=>{if(e.processor&&e.processor.mPathCache){for(var t in e.processor.mPathCache)if(e.processor.mPathCache[t].canonicalPath===e.target)return t}return e.target};this.resetMessageMap+
perValueStates();this.messageMapperPaths=[];var a=sap.ui.getCore().getMessageManager().getMessageModel().getData();var r=a.map(a=>{this.logger.info("Error message original target: "+a.getTarget());a.setTarget(t(a));a.setMessageProcessor(this.getModel());+
var r="",i=a.getTarget();this.logger.info("Converted target: "+i);if(!a.getTarget())return a;if(a.getTarget().indexOf("/")===0)i=i.substr(1);if(i.indexOf("/")===-1)return a;var s;do{var n=i.substr(0,i.indexOf("/"));this.logger.info("Try to find match for+
 sub-path: "+n);if(!s){this.logger.info("Try to find match for root");if(e)s=this.findMatchingObject(n,this.data,e);else s=this.findMatchingObjectInData(n)}else{this.logger.info("Try to find match for association");var o=s.object["getAssociations"]&&s.ob+
ject.getAssociations().find(e=>n.includes(e.from));s=o&&this.findMatchingObject(n.replace(o.from,o.entity),s.object,o.to)}if(!s.object)return a;this.logger.info("Match found");r+=s.path;i=i.substr(i.indexOf("/")+1)}while(i.indexOf("/")>-1);if(a.getTarget+
().lastIndexOf("/")===-1)return a;var g=this.camelize(a.getTarget().substr(a.getTarget().lastIndexOf("/")+1));r+="/"+g;a.setTarget(r);this.getModel().setProperty(r+"ValueState",a.getType());this.getModel().setProperty(r+"ValueStateText",a.getMessage());t+
his.messageMapperPaths.push(r);return a});sap.ui.getCore().getMessageManager().removeAllMessages();r.forEach(e=>sap.ui.getCore().getMessageManager().addMessages(e))}})});                                                                                     