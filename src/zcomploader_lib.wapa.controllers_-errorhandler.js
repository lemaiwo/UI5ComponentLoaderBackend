sap.ui.define(["sap/ui/base/Object","sap/m/MessageBox"],function(e,s){"use strict";return e.extend("be.wl.zcomploaderlib.controllers.ErrorHandler",{constructor:function(e){this._oResourceBundle=e.getModel("i18n").getResourceBundle();this._oComponent=e;th+
is._oModel=e.getModel();this._bMessageOpen=false;this._sErrorText=this._oResourceBundle.getText("errorText");this._oModel.attachMetadataFailed(function(e){var s=e.getParameters();this._showServiceError(s.response)},this);this._oModel.attachRequestFailed(+
function(e){var s=e.getParameters();if(s.response.statusCode!=="404"||s.response.statusCode===404&&s.response.responseText.indexOf("Cannot POST")===0){this._showServiceError(s.response)}},this)},_showServiceError:function(e){var r,t;if(this._bMessageOpen+
){return}if(e.responseText){try{r=JSON.parse(e.responseText)}catch(s){r=e.responseText}}if(r&&r.error&&r.error.message&&r.error.message.value){t=r.error.message.value}this._bMessageOpen=true;s.error(this._sErrorText+"\n\n"+(t||e),{id:"serviceErrorMessage+
Box",styleClass:this._oComponent.getContentDensityClass(),actions:[s.Action.CLOSE],onClose:function(){this._bMessageOpen=false}.bind(this)})}})});                                                                                                             